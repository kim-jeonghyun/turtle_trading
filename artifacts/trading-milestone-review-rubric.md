# Trading System Milestone Review Rubric

**Version:** 1.0
**Created:** 2026-02-22
**Origin:** Agent Council 합의 (Codex + Gemini + Claude 의장)
**Purpose:** 트레이딩 시스템 마일스톤 구현 리뷰를 위한 재사용 가능한 평가 기준표

---

## 사용법

각 카테고리를 0-5점으로 평가합니다:
- **5**: 모범적 — 개선 여지 없음
- **4**: 양호 — 사소한 개선만 필요
- **3**: 수용 가능 — 알려진 제한이 있으나 릴리즈 가능
- **2**: 미흡 — 릴리즈 전 보완 필요
- **1**: 불합격 — 심각한 결함으로 릴리즈 불가
- **0**: 미평가 / 해당 없음

**통과 기준:**
- 가중 평균 ≥ 4.0/5.0
- 어떤 카테고리도 3.0 미만이면 릴리즈 불가 (hard gate)
- "전략 정확성"과 "리스크 관리" 카테고리는 4.0 미만이면 릴리즈 불가

---

## 평가 카테고리

### 1. 전략 정확성 (Strategy Correctness) — 가중치 25%

시그널 생성, 주문 로직, 포지션 전이가 명세(Turtle Trading Rules)와 일치하는지 평가합니다.

| # | 점검 항목 | Pass/Fail |
|---|----------|-----------|
| 1.1 | 기능 요구사항(Issue/AC) 전체 충족 | |
| 1.2 | 시그널 생성 로직이 전략 명세와 일치 | |
| 1.3 | 동일 심볼에 대해 상충 시그널이 발생하지 않음 | |
| 1.4 | Fill 매칭, 포지션 전이가 결정적이고 재현 가능 | |
| 1.5 | 시장 경계(개장/폐장, 휴일), 빈/비정상 데이터 처리 | |

---

### 2. 리스크 관리 무결성 (Risk Management Integrity) — 가중치 20%

포지션 사이징, 스톱로스, 최대 노출, 피라미딩 제약이 우회 없이 강제되는지 평가합니다.

| # | 점검 항목 | Pass/Fail |
|---|----------|-----------|
| 2.1 | 핵심 리스크 컨트롤(사이징/스톱/한도)이 변경에 의해 훼손되지 않음 | |
| 2.2 | 중복/교차 주문 방지(멱등성) 검증 | |
| 2.3 | 레버리지 없이 과노출에 이르는 경로가 없음 | |
| 2.4 | 치명적 미처리 에러 시 안전 상태(주문 취소, 포지션 동결)로 전이 | |
| 2.5 | 리스크 한도가 코드에서 하드코딩이 아닌 설정 기반 | |

---

### 3. 데이터 및 시간 정확성 (Data & Time Correctness) — 가중치 15%

타임존, 타임스탬프 파싱, 거래소별 시간 처리가 실제 데이터 변동 하에서도 견고한지 평가합니다.

| # | 점검 항목 | Pass/Fail |
|---|----------|-----------|
| 3.1 | 타임존(KST/UTC/EST) 처리가 fixture로 검증됨 | |
| 3.2 | 거래소 타임스탬프와 주문 ID 매칭이 실제 데이터 분산 하에서 견고 | |
| 3.3 | DST 전환, 부분 체결, 동일 심볼 다중 주문 시나리오 테스트 | |
| 3.4 | 비정상/누락 타임스탬프 레코드 시 graceful degradation | |

---

### 4. 테스트 커버리지 및 검증 품질 (Test Coverage & Validation) — 가중치 15%

단위/통합/시나리오 테스트가 정상 경로, 실패 경로, 엣지 케이스를 현실적으로 모델링하는지 평가합니다.

| # | 점검 항목 | Pass/Fail |
|---|----------|-----------|
| 4.1 | 테스트 커버리지를 정량적으로 측정하고 목표 대비 확인 | |
| 4.2 | 핵심 로직(주문 실행, 리스크)의 커버리지 ≥ 80% | |
| 4.3 | Happy path + failure path + edge case 모두 포함 | |
| 4.4 | 과거 결함에 대한 회귀 테스트 존재 (e.g., 시간 필터 버그) | |
| 4.5 | 스케줄러/브로커 mock 기반 통합/스모크 테스트 | |
| 4.6 | 백테스트-라이브 동등성 검증 (`test_backtester_live_equivalence.py`) | |

---

### 5. 운영 회복력 (Operational Resilience) — 가중치 10%

스케줄러 신뢰성, 중복 방지, 재시도, 장애 알림이 운영 환경에서 동작하는지 평가합니다.

| # | 점검 항목 | Pass/Fail |
|---|----------|-----------|
| 5.1 | 스케줄러(cron) 중복 실행/누락 방지 메커니즘 | |
| 5.2 | 일시적 API/네트워크 장애 시 graceful retry + 알림 | |
| 5.3 | 복구 절차 문서화 및 테스트 | |
| 5.4 | Zero-fill/no-fill 이상 탐지 및 에스컬레이션 | |
| 5.5 | crash-restart 시나리오에서 상태 일관성 유지 | |

---

### 6. 배포 안전성 (Deployment Safety) — 가중치 10%

빌드/배포 재현성, 롤백 절차, 사전/사후 검증이 문서화되고 실행되는지 평가합니다.

| # | 점검 항목 | Pass/Fail |
|---|----------|-----------|
| 6.1 | Docker 이미지 재빌드/버전 태깅 완료 | |
| 6.2 | Pre-deployment dry-run 실행 및 증적 보관 | |
| 6.3 | Post-deployment 검증 체크리스트 존재 및 수행 | |
| 6.4 | 롤백 절차가 문서화되고 테스트됨 | |
| 6.5 | 릴리즈 승인 기록(누가, 언제, 어떤 게이트 통과) | |

---

### 7. 문서 및 운영 준비 (Documentation & Ops Readiness) — 가중치 5%

변경 사항이 문서, 코멘트, 감사 추적에 반영되었는지 평가합니다.

| # | 점검 항목 | Pass/Fail |
|---|----------|-----------|
| 7.1 | README, CLAUDE.md, crontab 등 운영 문서 업데이트 | |
| 7.2 | 복잡/비자명 로직에 코드 코멘트 존재 | |
| 7.3 | Issue/PR/커밋 메시지가 명확하고 연결되어 있음 | |
| 7.4 | 알림/모니터링 기대치가 문서화됨 | |
| 7.5 | 알려진 제한사항 + 계획된 수정이 owner와 함께 기록됨 | |

---

## 평가 결과 템플릿

```
마일스톤: v?.?.?
평가일: YYYY-MM-DD
평가자: [Council Members]

| 카테고리 | 가중치 | 점수 (0-5) | 가중 점수 |
|----------|--------|-----------|----------|
| 1. 전략 정확성 | 25% | | |
| 2. 리스크 관리 | 20% | | |
| 3. 데이터/시간 | 15% | | |
| 4. 테스트 커버리지 | 15% | | |
| 5. 운영 회복력 | 10% | | |
| 6. 배포 안전성 | 10% | | |
| 7. 문서/준비 | 5% | | |
| **합계** | **100%** | | **?/5.0** |

판정: APPROVE / CONDITIONAL APPROVE / REJECT
조건 (해당 시): ...
```

---

## 변경 이력

| 버전 | 일자 | 변경 내용 |
|------|------|-----------|
| 1.0 | 2026-02-22 | 초안 — Agent Council 합의 기반 |
